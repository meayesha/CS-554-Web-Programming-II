{"ast":null,"code":"var _jsxFileName = \"/Users/ayeshaparveen/Desktop/Workspace/lab_4_marvel_new/src/components/CharactersPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport axios from 'axios';\nimport ErrorPage from './ErrorPage';\nimport Page from './Page';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CharacterPage = props => {\n  _s();\n\n  const [characters, setCharacters] = useState(undefined);\n  const [loading, setLoading] = useState(true);\n  const [getPage, setGetPage] = useState(0);\n  let col = null;\n  let page = 0;\n  let currPage = null;\n\n  const md5 = require('blueimp-md5');\n\n  const publickey = 'b3f3ae85c881c6196c303b96f1678274';\n  const privatekey = 'b82cf5047defc8b4ca20fd4bd5338432c0fe5739';\n  const ts = new Date().getTime();\n  const stringToHash = ts + privatekey + publickey;\n  const hash = md5(stringToHash);\n  useEffect(() => {\n    console.log(\"enter useEffect\");\n    currPage = Number(props.match.params.page);\n\n    async function fetchData() {\n      try {\n        fetch('https://gateway.marvel.com:443/v1/public/characters' + '?ts=' + ts + '&apikey=' + publickey + '&hash=' + hash + '&limit=20&offset=' + (currPage * 20).toString()).then(response => response.json()).then(data => setCharacters(data));\n        setLoading(false);\n        console.log(characters);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    fetchData();\n  }, [getPage]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading .....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n  let characterData = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: characters && characters.data.results.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagecontainer\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"pagecontent\",\n          href: `/characters/${item.id}`,\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 25\n  }, this);\n\n  const pageNum = bool => {\n    page = characters.data.offset;\n\n    if (bool) {\n      page++;\n      setGetPage(page);\n    } else {\n      page--;\n      setGetPage(page);\n    }\n\n    ;\n  }; // Pagination Component\n\n\n  if (characters && characters.data.offset <= Math.floor(characters.data.total)) {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Loading .....\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this);\n    }\n\n    page = /*#__PURE__*/_jsxDEV(Page, {\n      pageNum: [pageNum, characters.data.offset / 20, characters.data.offset / 20, 'characters']\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 16\n    }, this);\n  } else {\n    page = null;\n    return /*#__PURE__*/_jsxDEV(ErrorPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading .....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-primary mb-3\",\n        children: \"Character Names\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), characterData, /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"page\",\n          sm: 3,\n          md: 3,\n          lg: 5,\n          children: col\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"page\",\n          children: page\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this);\n  }\n};\n\n_s(CharacterPage, \"G9LuKEzonO/5eshC/j2La/kvkh0=\");\n\n_c = CharacterPage;\nexport default CharacterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CharacterPage\");","map":{"version":3,"sources":["/Users/ayeshaparveen/Desktop/Workspace/lab_4_marvel_new/src/components/CharactersPage.js"],"names":["React","useState","useEffect","Link","Row","Col","Container","axios","ErrorPage","Page","CharacterPage","props","characters","setCharacters","undefined","loading","setLoading","getPage","setGetPage","col","page","currPage","md5","require","publickey","privatekey","ts","Date","getTime","stringToHash","hash","console","log","Number","match","params","fetchData","fetch","toString","then","response","json","data","e","characterData","results","map","item","index","id","name","pageNum","bool","offset","Math","floor","total"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container'\nimport axios from 'axios';\nimport ErrorPage from './ErrorPage'\nimport Page from './Page'\n\nconst CharacterPage = (props) =>{\n    const [characters, setCharacters] = useState(undefined);\n    const [loading, setLoading] = useState(true);\n    const [ getPage, setGetPage ] = useState(0);\n    let col = null;\n    let page = 0;\n    let currPage = null;\n    const md5 = require('blueimp-md5');\n    const publickey = 'b3f3ae85c881c6196c303b96f1678274';\n    const privatekey = 'b82cf5047defc8b4ca20fd4bd5338432c0fe5739';\n    const ts = new Date().getTime();\n    const stringToHash = ts + privatekey + publickey;\n    const hash = md5(stringToHash);\n    \n    useEffect(()=>{\n        console.log(\"enter useEffect\");\n        currPage = Number(props.match.params.page);\n        async function fetchData() {\n            try {\n                fetch('https://gateway.marvel.com:443/v1/public/characters'+ '?ts=' + ts + '&apikey=' + publickey + '&hash=' + hash+'&limit=20&offset=' + (currPage * 20).toString())\n            .then(response => response.json())\n            .then(data => setCharacters(data)) \n                            setLoading(false);\n                            console.log(characters); \n                    }catch(e){\n                        \n                console.log(e);\n            }\n        }\n        \n        fetchData();\n    },[getPage]);\n                \n   \n    if(loading){\n        return(\n            <div>\n                <h2>Loading .....</h2>\n            </div>\n        )\n    }\n    \n    let characterData =(<div>\n        {characters && characters.data.results.map((item, index)=>{\n            return (\n                <div className=\"pagecontainer\">\n                    <a className=\"pagecontent\" href={`/characters/${item.id}`}>{item.name}</a>\n                    </div>\n            )\n        })}\n    </div>);\n    const pageNum = (bool) => {\n         page = characters.data.offset ;\n        if (bool) {\n            page ++;\n            setGetPage(page);\n        } else {\n            page --;\n            setGetPage(page);\n        };\n    };\n     \n    // Pagination Component\n    if (characters && characters.data.offset <= Math.floor(characters.data.total)) {\n        if(loading){\n            return(\n                <div>\n                    <h2>Loading .....</h2>\n                </div>\n            )\n        }\n        page = <Page pageNum = {[pageNum, characters.data.offset/20, characters.data.offset/20, 'characters']} />\n    } else {\n        page = null;\n        return(\n            <ErrorPage/>\n        )\n       \n    }\n    if(loading){\n        return(\n            <div>\n                <h2>Loading .....</h2>\n            </div>\n        )\n    }\n    else{\n    return (\n        <div className=\"container mt-5\">\n                <h1 className=\"text-primary mb-3\">Character Names</h1>\n                {characterData}\n        <Container>\n            <br />\n            <br />\n            <Row className = 'page' sm = {3} md = {3} lg = {5}>\n                {col} \n            </Row>\n            <br />\n            <Row className = 'page'> \n                {page}\n            </Row>\n        </Container>\n        </div>\n    );\n    }\n};\n\n\nexport default CharacterPage;"]},"metadata":{},"sourceType":"module"}
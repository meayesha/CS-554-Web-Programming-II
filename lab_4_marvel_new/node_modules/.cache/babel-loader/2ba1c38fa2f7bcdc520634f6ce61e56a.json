{"ast":null,"code":"var _jsxFileName = \"/Users/ayeshaparveen/Desktop/Workspace/lab_4_marvel_new/src/components/ComicsPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport axios from 'axios';\nimport Page from './Page';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ComicsPage = props => {\n  _s();\n\n  const [comics, setComics] = useState(undefined);\n  const [loading, setLoading] = useState(true);\n  const [getPage, setGetPage] = useState(0);\n  let col = null;\n  let page = null;\n  let currPage = null;\n\n  const md5 = require('blueimp-md5');\n\n  const publickey = 'b3f3ae85c881c6196c303b96f1678274';\n  const privatekey = 'b82cf5047defc8b4ca20fd4bd5338432c0fe5739';\n  const ts = new Date().getTime();\n  const stringToHash = ts + privatekey + publickey;\n  const hash = md5(stringToHash);\n  useEffect(() => {\n    console.log(\"enter useEffect\");\n\n    async function fetchData() {\n      try {\n        fetch('https://gateway.marvel.com:443/v1/public/comics' + '?ts=' + ts + '&apikey=' + publickey + '&hash=' + hash + '&limit=20&offset=' + currPage * 20).then(response => response.json()).then(data => setComics(data));\n        setLoading(false);\n        console.log(comics);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    fetchData();\n  }, [getPage]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading .....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n  let comicsData = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: comics && comics.data.results.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagecontainer\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"pagecontent\",\n          href: `/comics/${item.id}`,\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 22\n  }, this);\n\n  const pageNum = bool => {\n    page = comics.data.count;\n\n    if (bool) {\n      page++;\n      setGetPage(page);\n    } else {\n      page--;\n      setGetPage(page);\n    }\n\n    ;\n  };\n\n  if (comics && comics.data.count <= Math.floor(comics.data.total / 20)) {\n    page = /*#__PURE__*/_jsxDEV(Page, {\n      pageNum: [pageNum, comics.data.offset, comics.data.offset, 'comics']\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }, this);\n  } else {\n    page = null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-primary mb-3\",\n      children: \"Comics Names\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), comicsData, /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"page\",\n        sm: 3,\n        md: 3,\n        lg: 5,\n        children: col\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"page\",\n        children: page\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ComicsPage, \"lNS1wz4KElqa0G17PB7smoPawwQ=\");\n\n_c = ComicsPage;\nexport default ComicsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ComicsPage\");","map":{"version":3,"sources":["/Users/ayeshaparveen/Desktop/Workspace/lab_4_marvel_new/src/components/ComicsPage.js"],"names":["React","useState","useEffect","Link","Row","Col","Container","axios","Page","ComicsPage","props","comics","setComics","undefined","loading","setLoading","getPage","setGetPage","col","page","currPage","md5","require","publickey","privatekey","ts","Date","getTime","stringToHash","hash","console","log","fetchData","fetch","then","response","json","data","e","comicsData","results","map","item","index","id","title","pageNum","bool","count","Math","floor","total","offset"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container'\nimport axios from 'axios';\nimport Page from './Page'\nconst ComicsPage = (props) =>{\n    const [comics, setComics] = useState(undefined);\n    const [loading, setLoading] = useState(true);\n    const [ getPage, setGetPage ] = useState(0);\n    let col = null;\n    let page = null;\n    let currPage = null;\n    const md5 = require('blueimp-md5');\n    const publickey = 'b3f3ae85c881c6196c303b96f1678274';\n    const privatekey = 'b82cf5047defc8b4ca20fd4bd5338432c0fe5739';\n    const ts = new Date().getTime();\n    const stringToHash = ts + privatekey + publickey;\n    const hash = md5(stringToHash);\n    \n    \n    useEffect(()=>{\n        console.log(\"enter useEffect\");\n        async function fetchData() {\n            try {\n                fetch('https://gateway.marvel.com:443/v1/public/comics'+ '?ts=' + ts + '&apikey=' + publickey + '&hash=' + hash+'&limit=20&offset=' + (currPage * 20))\n            .then(response => response.json())\n            .then(data => setComics(data)) \n                            setLoading(false);\n                            console.log(comics); \n                    }catch(e){\n                        \n                console.log(e);\n            }\n        }\n        fetchData();\n    },[getPage]);\n    if(loading){\n        return(\n            <div>\n                <h2>Loading .....</h2>\n            </div>\n        )\n    }\n    let comicsData =(<div>\n        {comics && comics.data.results.map((item, index)=>{\n            return (\n                <div className=\"pagecontainer\">\n                    <a className=\"pagecontent\" href={`/comics/${item.id}`}>{item.title}</a>\n                    </div>\n            )\n        })}\n    </div>)\n\nconst pageNum = (bool) => {\n    page = comics.data.count ;\n   if (bool) {\n       page ++;\n       setGetPage(page);\n   } else {\n       page --;\n       setGetPage(page);\n   };\n};\nif (comics && comics.data.count <= Math.floor(comics.data.total / 20)) {\n    page = <Page pageNum = {[pageNum, comics.data.offset, comics.data.offset, 'comics']} />\n} else {\n    page = null\n}\nreturn (\n    <div className=\"container mt-5\">\n            <h1 className=\"text-primary mb-3\">Comics Names</h1>\n            {comicsData}\n    <Container>\n        <br />\n        <br />\n        <Row className = 'page' sm = {3} md = {3} lg = {5}>\n            {col} \n        </Row>\n        <br />\n        <Row className = 'page'> \n            {page}\n        </Row>\n    </Container>\n    </div>\n);\n};\n\nexport default ComicsPage;"]},"metadata":{},"sourceType":"module"}